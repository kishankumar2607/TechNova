@model int
@{
    ViewData["Title"] = "Order Confirmed";
    var eta = DateTime.Now.AddDays(5).ToString("MMMM d");
}

<div class="order-success-page py-5">
    <div class="container d-flex justify-content-center">
        <div class="success-card p-4 p-md-5 text-center">

            <div class="celebration">
                <!-- Animated check -->
                <svg class="checkmark" viewBox="0 0 64 64" aria-hidden="true">
                    <circle cx="32" cy="32" r="28"></circle>
                    <path d="M20 34 L28 42 L46 24"></path>
                </svg>

                <!-- Light confetti burst -->
                <div class="confetti">
                    <i></i><i></i><i></i>
                </div>
            </div>

            <h2 class="fw-bold mt-3">Thank you!</h2>
            <p class="text-muted mb-3">Your order has been placed successfully.</p>

            <div class="d-inline-flex align-items-center gap-2 mb-2">
                <span class="order-id badge bg-light text-dark border">Order #@Model</span>
                <button type="button" class="btn btn-sm btn-outline-secondary" id="copyOrderBtn" aria-label="Copy order number">Copy</button>
            </div>

            <div class="small text-muted mb-4">Estimated delivery by <strong>@eta</strong></div>

            <!-- Simple status steps -->
            <div class="progress-steps d-flex justify-content-center gap-4 my-2">
                <div class="step active">
                    <div class="dot"></div>
                    <div class="label">Placed</div>
                </div>
                <div class="step">
                    <div class="dot"></div>
                    <div class="label">Processing</div>
                </div>
                <div class="step">
                    <div class="dot"></div>
                    <div class="label">Shipped</div>
                </div>
                <div class="step">
                    <div class="dot"></div>
                    <div class="label">Delivered</div>
                </div>
            </div>

            <div class="d-flex flex-wrap justify-content-center gap-2 mt-4">
                <a class="btn button-style" href="@Url.Action("Index","Home")">Continue Shopping</a>
                <a class="btn button-outline-secondary" href="@Url.Action("MyAccount","Account")">View My Orders</a>
                <button class="btn btn-outline-secondary" type="button" onclick="window.print()">Print receipt</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        (function () {
            const btn = document.getElementById('copyOrderBtn');
            if (!btn) return;
            btn.addEventListener('click', function () {
                navigator.clipboard.writeText('@Model').then(() => {
                    const old = btn.innerText;
                    btn.innerText = 'Copied!';
                    setTimeout(() => btn.innerText = old, 1200);
                });
            });
        })();
    </script>
}

