@model TechNova.Models.BankDetailsViewModel
@{
    ViewData["Title"] = "Bank Payment";
}

<div class="bank-details-page py-5">
    <div class="container">
        <div class="row g-4 justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm border-0">
                    <div class="card-body p-4">
                        <h4 class="fw-bold mb-2">Bank Transfer</h4>
                        <p class="text-muted mb-4">
                            Please enter your bank details to complete payment for
                            <strong>Order #@Model.OrderID</strong>.
                        </p>

                        <div class="alert alert-light border d-flex justify-content-between align-items-center">
                            <div>Amount due</div>
                            <div class="fw-bold">@Model.Amount.ToString("C")</div>
                        </div>

                        <form asp-action="BankDetails" method="post" novalidate class="mt-3">
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(m => m.OrderID)
                            @Html.HiddenFor(m => m.Amount)

                            <div asp-validation-summary="ModelOnly" class="text-danger small mb-3"></div>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Account Holder Name*</label>
                                    <input asp-for="AccountHolderName" class="form-control" />
                                    <span asp-validation-for="AccountHolderName" class="text-danger small"></span>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Bank Name*</label>
                                    <input asp-for="BankName" class="form-control" />
                                    <span asp-validation-for="BankName" class="text-danger small"></span>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">Account Number*</label>
                                    <input asp-for="AccountNumber" class="form-control" />
                                    <span asp-validation-for="AccountNumber" class="text-danger small"></span>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Transit*</label>
                                    <input asp-for="TransitNumber" class="form-control" />
                                    <span asp-validation-for="TransitNumber" class="text-danger small"></span>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Institution*</label>
                                    <input asp-for="InstitutionNumber" class="form-control" />
                                    <span asp-validation-for="InstitutionNumber" class="text-danger small"></span>
                                </div>

                                <div class="col-12">
                                    <label class="form-label">SWIFT / IBAN (optional)</label>
                                    <input asp-for="SwiftIban" class="form-control" />
                                    <span asp-validation-for="SwiftIban" class="text-danger small"></span>
                                </div>
                            </div>

                            <div class="d-flex gap-2 mt-4">
                                <a class="btn button-outline-secondary" href="@Url.Action("Details","Orders", new { id = Model.OrderID })">
                                    Back to Order
                                </a>
                                <button type="submit" class="btn button-style">Confirm Payment</button>
                            </div>
                        </form>

                        <div class="small text-muted mt-3">
                            We don’t store your bank details. Your payment will be reviewed and confirmed.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    .bank-details-page .card {
        border-radius: 14px;
    }
</style>
